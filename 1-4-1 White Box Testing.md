# 白盒測試（White Box Testing）

## **概述**
白盒測試是一種測試技術，測試人員會檢視軟體的內部結構、設計和程式碼，以驗證輸入與輸出流程，並提升設計、可用性及安全性。由於測試人員可見程式碼，因此又稱為「透明盒測試」、「開放盒測試」、「程式碼導向測試」或「結構測試」。

---

## **目標**
白盒測試主要關注軟體內部的運行機制，測試範圍包括：
- 內部安全漏洞  
- 程式碼內的斷裂或結構不良的路徑  
- 特定輸入的流程與預期輸出  
- 條件循環的正確性  
- 每個語句、物件、函式的個別測試  

白盒測試通常適用於系統、整合與單元測試階段，主要目標是驗證應用程式的運行流程，並確保程式碼按預期執行。

---

## **步驟**
### **步驟 1：理解源碼**
測試人員需要熟悉應用程式的程式碼，並具備相應的編程語言知識。此外，還需了解安全性編碼規範，以找出可能的安全性問題，防範駭客攻擊。

### **步驟 2：創建測試案例並執行測試**
測試人員會根據程式碼結構撰寫測試案例，並確保所有流程、分支、條件和函式皆被覆蓋。可以透過手動測試、編寫測試程式或使用自動化測試工具來進行測試。

---

## **白盒測試技術**
白盒測試主要使用「程式碼覆蓋率分析」來確保測試的全面性，並使用不同的覆蓋技術來識別測試漏洞：

1. **語句覆蓋率（Statement Coverage）**：確保程式碼中的每一個語句至少被執行一次。
2. **分支覆蓋率（Branch Coverage）**：測試所有可能的條件分支（如 if-else）。
3. **條件覆蓋率（Condition Coverage）**：測試所有可能的條件組合。
4. **路徑覆蓋率（Path Coverage）**：確保程式碼中所有可能的執行路徑都被測試。
5. **控制流測試（Control Flow Testing）**：測試程式碼中的決策點與流程。
6. **資料流測試（Data Flow Testing）**：檢測變數的定義、使用及消除是否正確。

這些技術可以相互結合，以獲得更高的測試覆蓋率。

---

## **白盒測試的類型**
白盒測試可應用於不同層級的測試，如：

- **單元測試（Unit Testing）**：對個別函式或模組進行測試，通常由開發人員完成。
- **記憶體洩漏測試（Memory Leak Testing）**：檢測程式是否有記憶體洩漏問題，避免系統運行變慢。
- **白盒滲透測試（White Box Penetration Testing）**：測試應用程式的安全性，找出潛在的漏洞。
- **變異測試（Mutation Testing）**：透過修改程式碼來測試程式的健壯性。

---

## **白盒測試 vs 黑盒測試**
| **測試方式**  | **白盒測試（White Box）**  | **黑盒測試（Black Box）**  |
|--------------|-----------------|-----------------|
| 測試對象    | 內部結構、程式碼  | 外部行為、功能 |
| 測試人員    | 開發人員、測試人員 | 測試人員 |
| 測試基礎    | 程式碼與內部邏輯  | 用戶需求與規格 |
| 目標        | 找出邏輯錯誤與程式漏洞 | 驗證軟體是否符合需求 |
| 工具        | 單元測試工具、程式碼分析工具 | 自動化測試工具、UI 測試工具 |

白盒測試與黑盒測試互補，通常會結合使用。

---

## **優缺點**
### **優點**
✔️ 找出隱藏的錯誤，提升程式碼品質  
✔️ 可自動化測試，提高測試效率  
✔️ 提早發現錯誤，降低修復成本  

### **缺點**
❌ 需要深入了解程式碼，對測試人員技術要求較高  
❌ 測試成本較高，需投入大量時間與人力  
❌ 可能會忽略使用者體驗與實際業務需求  

---

## **白盒測試工具**
以下是一些常見的白盒測試工具：

| 工具名稱  | 主要用途 |
|----------|----------------|
| **EclEmma**  | Java 代碼覆蓋率分析 |
| **NUnit**  | .NET 單元測試框架 |
| **PyUnit**  | Python 單元測試框架 |
| **HTMLUnit**  | Web 測試工具 |
| **CppUnit**  | C++ 單元測試框架 |
| **Veracode**  | 安全測試工具 |
| **EMMA**  | Java 程式碼測試工具 |
| **Googletest**  | Google C++ 測試框架 |

這些工具可以幫助測試人員提高測試的準確性與效率。

---

## **總結**
白盒測試是一種深入的測試方法，專注於程式碼內部邏輯，能夠找出許多隱藏的錯誤與安全漏洞。雖然白盒測試對測試人員的技術要求較高，但結合自動化工具與不同測試技術，可以大幅提升軟體的品質與安全性。
