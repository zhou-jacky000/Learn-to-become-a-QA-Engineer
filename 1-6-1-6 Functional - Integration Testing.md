# **整合測試 (Integration Testing) 重點整理**

## **什麼是整合測試？**
整合測試是一種測試類型，主要測試**軟體模組之間的互動**，確保它們在組合後仍能正常運作。軟體開發通常由不同的開發人員負責多個模組，因此整合測試的目標是**找出模組整合時的缺陷**。

- **關注點**：測試模組之間的數據交換與溝通，確保資訊正確傳遞。
- **別名**：I&T（Integration & Testing）、String Testing、Thread Testing。

---

## **為什麼需要整合測試？**
即使每個模組在**單元測試**階段已測試過，仍可能因以下原因出現錯誤：
1. **開發人員理解不同**：每位開發人員的邏輯可能有所不同，導致模組無法順利整合。
2. **需求變更**：開發過程中，客戶需求可能變更，導致某些功能未在單元測試階段測試。
3. **資料庫接口錯誤**：軟體模組與資料庫的接口可能有錯誤。
4. **外部硬體接口錯誤**：若軟體需與硬體整合，可能會出現錯誤。
5. **異常處理不足**：例外狀況處理不完善，可能導致系統崩潰。

---

## **整合測試範例**
整合測試的測試案例與單元測試不同，重點是**模組之間的數據流與接口**。

假設有一個應用程式包含：
- **登入頁面 (Login Page)**
- **郵件收件匣 (Mailbox)**
- **刪除郵件功能 (Delete Emails)**

### **測試案例**
| 測試案例 ID | 測試目標 | 測試描述 | 預期結果 |
|------------|----------|----------|----------|
| 1 | 測試登入頁面與郵件收件匣的接口 | 輸入帳號密碼並點擊登入 | 成功導向郵件收件匣 |
| 2 | 測試郵件收件匣與刪除郵件功能的接口 | 在收件匣中選取郵件並點擊刪除 | 郵件應出現在垃圾桶或已刪除郵件夾 |

---

## **整合測試的類型**
整合測試可以透過不同策略執行，包括：

1. **大爆炸測試 (Big Bang Testing)**
2. **增量測試 (Incremental Testing)**
   - 自上而下測試 (Top-Down Testing)
   - 自下而上測試 (Bottom-Up Testing)
   - 三明治測試 (Sandwich Testing)

---

## **1. 大爆炸測試 (Big Bang Testing)**
大爆炸測試將所有模組**一次性整合**並測試。

**優點：**
- 適用於小型系統，開發簡單。

**缺點：**
- **故障定位困難**：錯誤可能來自任何模組，難以找出根本原因。
- **介面測試容易遺漏**：由於一次性測試所有模組，某些介面可能未充分測試。
- **時間管理困難**：所有模組必須開發完成後才能測試，影響時程安排。
- **關鍵模組測試延遲**：關鍵模組與 UI 介面可能沒有優先測試，影響整體品質。

---

## **2. 增量測試 (Incremental Testing)**
逐步整合相關模組並測試，確保模組功能正常後再整合下一組模組。

### **測試方式**
1. **自下而上測試 (Bottom-Up Testing)**  
   - 先測試低階模組，逐步往上測試高階模組。
   - 需使用**驅動程式 (Drivers)** 來模擬尚未開發的高層模組。

   **優點：**
   - 容易找出錯誤。
   - **不需要等待所有模組完成**，可以提前開始測試。

   **缺點：**
   - 高階模組（如關鍵控制模組）較晚測試，可能影響系統運作。
   - 無法提早建立完整系統的原型。

2. **自上而下測試 (Top-Down Testing)**  
   - 先測試高階模組，逐步整合低階模組。
   - 需使用**存根 (Stubs)** 來模擬尚未開發的低層模組。

   **優點：**
   - 早期可取得系統原型，提早發現設計缺陷。
   - **關鍵模組優先測試**，可及早修正錯誤。

   **缺點：**
   - 需撰寫大量存根程式，增加測試成本。
   - 低階模組的測試可能較為簡略。

3. **三明治測試 (Sandwich Testing)**
   - **結合 Top-Down 與 Bottom-Up 測試**，同時測試高層與低層模組。
   - **使用存根 (Stubs) 和驅動程式 (Drivers)** 來模擬中間層模組。

   **優點：**
   - 可同時測試高層與低層模組，兼具兩者優點。

   **缺點：**
   - **測試計畫較為複雜**，需要管理大量測試數據與工具。

---

## **如何執行整合測試？**
無論選擇哪種測試策略，執行流程大致相同：
1. **準備整合測試計畫**
2. **設計測試案例與測試數據**
3. **執行測試，記錄缺陷**
4. **追蹤與修復缺陷**
5. **重複測試，直到測試完成**

---

## **整合測試計畫 (Integration Test Plan)**
測試計畫應包含：
- **測試方法 (Testing Approaches)**：選擇適合的測試策略。
- **測試範圍 (Scope & Out of Scope)**：界定哪些功能需要測試。
- **角色與責任 (Roles & Responsibilities)**：指定測試人員的職責。
- **測試環境 (Test Environment)**：確保測試環境與正式環境相似。
- **風險與應對策略 (Risk & Mitigation Plan)**：制定風險處理方案。

---

## **整合測試的進入與退出條件**
**進入條件 (Entry Criteria)**
- 單元測試完成，模組通過測試。
- 主要錯誤已修復，且問題已關閉。
- 代碼整合完成，並成功編譯。
- 測試計畫與測試案例通過審核。

**退出條件 (Exit Criteria)**
- 測試通過，整合應用程式運作正常。
- 測試案例執行結果已記錄。
- 主要錯誤已修復，並確認問題解決。
- 技術文件與版本發布說明完成。

---

## **整合測試的最佳實踐**
- **選擇適合的測試策略**，並據此設計測試案例與測試數據。
- **分析系統架構，優先測試關鍵模組**，確保核心功能正常運作。
- **確保介面測試完整**，包含資料庫、外部設備等。
- **測試數據應事先準備**，避免執行測試時才決定測試資料。

---

## **總結**
- **整合測試確保不同模組能夠順利互動**，找出介面與數據傳輸的錯誤。
- **測試策略** 可分為 **大爆炸測試、增量測試 (Top-Down、Bottom-Up)、三明治測試**。
- **正確的測試計畫與測試策略**，能有效提升系統穩定性並降低測試成本。
